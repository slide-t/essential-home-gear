<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="main.css"/>
  <title>Essential Kitchen Culinary</title>
</head>
<body>

<!-- Mobile Header -->
<div class="mobile-header">
  <div class="menu-icon" onclick="toggleMenu()">☰</div>
  <div class="site-name">Essential Kitchen Culinary</div>
  <div class="logo-icon">🛍️</div>
</div>
<!-- Slide-out Menu -->
<div id="sideMenu">
  <div class="close-btn" onclick="toggleMenu()">✕</div>

  <div class="accordion">
    <div class="accordion-item">
      <div class="accordion-title" onclick="toggleAccordion(this)">Kitchen Utensils</div>
      <div class="accordion-content">
        <a href="#">Pots & Pans</a>
        <a href="#">Cutlery</a>
        <a href="#">Knives</a>
      </div>
    </div>

    <div class="accordion-item">
      <div class="accordion-title" onclick="toggleAccordion(this)">Home Appliances</div>
      <div class="accordion-content">
        <a href="#">Blenders</a>
        <a href="#">Toasters</a>
        <a href="#">Microwaves</a>
      </div>
    </div>

    <div class="accordion-item">
      <div class="accordion-title" onclick="toggleAccordion(this)">Office Stationery</div>
      <div class="accordion-content">
        <a href="#">Pens</a>
        <a href="#">Paper</a>
        <a href="#">Staplers</a>
      </div>
    </div>

    <div class="accordion-item">
      <div class="accordion-title" onclick="toggleAccordion(this)">Clothing</div>
      <div class="accordion-content">
        <a href="#">Men</a>
        <a href="#">Women</a>
        <a href="#">Children</a>
      </div>
    </div>

    <div class="accordion-item">
      <div class="accordion-title" onclick="toggleAccordion(this)">Interior Decor</div>
      <div class="accordion-content">
        <a href="#">Wall Art</a>
        <a href="#">Lamps</a>
        <a href="#">Vases</a>
      </div>
    </div>
  </div>
</div>


  <!-- Filter -->
<div class="filter-container">
  <label for="categoryFilter" class="filter-label">Filter by Category</label>
  <select id="categoryFilter" class="filter-select" onchange="filterProducts(this.value)">
    <option value="all">All</option>
    <option value="kitchen">Kitchen Utensils</option>
    <option value="appliances">Home Appliances</option>
    <option value="stationery">Office Stationery</option>
    <option value="clothing">Clothing</option>
    <option value="decor">Interior Decor</option>
  </select>
</div>
 
<div class="grid" id="grid"></div>

<div id="cartIcon" onclick="showCartModal()">
  🛒 Cart <span id="cartCount">0</span>
</div>

  <!-- Modal Overlay -->
<div id="cartModalOverlay" class="modal-overlay" style="display: none;">
  <div id="cartModal" class="cart-modal">
    <div style="text-align:right; margin-bottom:10px;">
  <button onclick="showCartModal()" style="background:none; border:none; font-size:20px; cursor:pointer;">✕</button>
</div>
    <h3>Your Cart</h3>
    <div id="cartItems"></div>
    <p>Total: ₦<span id="totalPrice">0</span></p>
    <div class="modal-buttons">
      <a id="whatsappOrder" href="#" target="_blank" class="btn-whatsapp">
        <span>📱</span> WhatsApp Order
      </a>
      <a href="mailto:support@example.com" class="btn-email">
        <span>📧</span> Email Order
      </a>
    </div>
    <button class="remove-btn" onclick="removeFromCart(${index})">🗑️</button>
  </div>
</div>

<script>
  const grid = document.getElementById("grid");
  const cartCount = document.getElementById("cartCount");
  const cartItems = document.getElementById("cartItems");
  const totalPriceEl = document.getElementById("totalPrice");
  const whatsappOrder = document.getElementById("whatsappOrder");
  const cartModal = document.getElementById("cartModal");

  const sampleProducts = [
  // Kitchen Utensils
  { name: "Cooking Pot Set", price: 18000, image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLVUrkBzsG8_J-VDvcSYd_yaqeyyZNpdqfASLApwDtwPpPkBA_KwwmovV2LitgVygj23zchNe-3OYQddkuXv_4huONpnOELk6P7WHDuobpyZ3bDGrDcbY41bMNUADLNszrhrX-1i7KKxq9yCwRMrwv91AGvZXEK1kasVYq77kxQgvnJQaiP0E13y1WYLU/s320/1000049051.jpg", category: "kitchen" },
  { name: "Knife Set", price: 7000, image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLVUrkBzsG8_J-VDvcSYd_yaqeyyZNpdqfASLApwDtwPpPkBA_KwwmovV2LitgVygj23zchNe-3OYQddkuXv_4huONpnOELk6P7WHDuobpyZ3bDGrDcbY41bMNUADLNszrhrX-1i7KKxq9yCwRMrwv91AGvZXEK1kasVYq77kxQgvnJQaiP0E13y1WYLU/s320/1000049051.jpg", category: "kitchen" },
  { name: "Cutlery Set", price: 5000, image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLVUrkBzsG8_J-VDvcSYd_yaqeyyZNpdqfASLApwDtwPpPkBA_KwwmovV2LitgVygj23zchNe-3OYQddkuXv_4huONpnOELk6P7WHDuobpyZ3bDGrDcbY41bMNUADLNszrhrX-1i7KKxq9yCwRMrwv91AGvZXEK1kasVYq77kxQgvnJQaiP0E13y1WYLU/s320/1000049051.jpg", category: "kitchen" },
  { name: "Chopping Board", price: 3000, image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLVUrkBzsG8_J-VDvcSYd_yaqeyyZNpdqfASLApwDtwPpPkBA_KwwmovV2LitgVygj23zchNe-3OYQddkuXv_4huONpnOELk6P7WHDuobpyZ3bDGrDcbY41bMNUADLNszrhrX-1i7KKxq9yCwRMrwv91AGvZXEK1kasVYq77kxQgvnJQaiP0E13y1WYLU/s320/1000049051.jpg", category: "kitchen" },

  // Home Appliances
  { name: "Blender", price: 15000, image: "https://via.placeholder.com/150", category: "appliances" },
  { name: "Air Fryer", price: 30000, image: "https://via.placeholder.com/150", category: "appliances" },
  { name: "Microwave Oven", price: 50000, image: "https://via.placeholder.com/150", category: "appliances" },
  { name: "Toaster", price: 8000, image: "https://via.placeholder.com/150", category: "appliances" },

  // Office Stationery
  { name: "A4 Paper (500 sheets)", price: 3500, image: "https://via.placeholder.com/150", category: "stationery" },
  { name: "Ballpoint Pens (Pack of 10)", price: 1200, image: "https://via.placeholder.com/150", category: "stationery" },
  { name: "Stapler & Pins Set", price: 2000, image: "https://via.placeholder.com/150", category: "stationery" },
  { name: "Notebook Set", price: 2500, image: "https://via.placeholder.com/150", category: "stationery" },

  // Clothing
  { name: "Men's T-Shirt", price: 6000, image: "https://via.placeholder.com/150", category: "clothing" },
  { name: "Women's Gown", price: 15000, image: "https://via.placeholder.com/150", category: "clothing" },
  { name: "Children's Wear Set", price: 9000, image: "https://via.placeholder.com/150", category: "clothing" },
  { name: "Unisex Joggers", price: 8000, image: "https://via.placeholder.com/150", category: "clothing" },

  // Interior Decor
  { name: "Wall Clock", price: 7000, image: "https://via.placeholder.com/150", category: "decor" },
  { name: "Table Lamp", price: 9000, image: "https://via.placeholder.com/150", category: "decor" },
  { name: "Flower Vase", price: 6000, image: "https://via.placeholder.com/150", category: "decor" },
  { name: "Wall Art Canvas", price: 12000, image: "https://via.placeholder.com/150", category: "decor" },
];

  let cart = [];
function toggleMenu() {
  document.getElementById("sideMenu").classList.toggle("show");
}

function toggleAccordion(element) {
  const content = element.nextElementSibling;
  content.style.display = content.style.display === "block" ? "none" : "block";
}

  function filterProducts(category) {
  const cards = document.querySelectorAll(".card");
  cards.forEach((card, index) => {
    const itemCat = sampleProducts[index].category;
    card.style.display =
      category === "all" || itemCat === category ? "block" : "none";
  });
}

function filterProducts(category) {
  const cards = document.querySelectorAll(".card");
  cards.forEach((card, index) => {
    const itemCat = sampleProducts[index].category;
    card.style.display =
      category === "all" || itemCat === category ? "block" : "none";
  });
}
  function renderCards() {
    grid.innerHTML = "";
    sampleProducts.forEach((product, i) => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <img src="${product.image}" alt="${product.name}" />
        <h4>${product.name}</h4>
        <p>₦${product.price}</p>
        <button class="btn add-btn" onclick="addToCart(${i}, this)">Add to Cart</button>
        <button class="btn buy-btn" onclick="buyNow(${i})">Buy Now</button>
      `;
      grid.appendChild(card);
    });
  }

  function addToCart(index, btn) {
    cart.push(sampleProducts[index]);
    updateCart();

    const buyBtn = btn.nextElementSibling;
    buyBtn.style.display = "block";
  }

  function buyNow(index) {
    const item = sampleProducts[index];
    const message = `I want to buy:\n- ${item.name} for ₦${item.price}`;
    const encoded = encodeURIComponent(message);
    window.open(`https://wa.me/?text=${encoded}`, "_blank");
  }
function updateCart() {
  cartItems.innerHTML = "";
  let total = 0;

  cart.forEach((item, index) => {
    total += item.price;

    const div = document.createElement("div");
    div.className = "cart-item";
    div.innerHTML = `
      ${item.name} - ₦${item.price}
      <button class="remove-btn" onclick="removeFromCart(${index})">✕</button>
    `;
    cartItems.appendChild(div);
  });

  cartCount.textContent = cart.length;
  totalPriceEl.textContent = total;

  whatsappOrder.href = `https://wa.me/?text=${encodeURIComponent(
    "I'm ordering:\n" +
      cart.map((p) => `- ${p.name}: ₦${p.price}`).join("\n") +
      `\nTotal: ₦${total}`
  )}`;
  
}
  function removeFromCart(index) {
  const confirmed = confirm("Are you sure you want to remove this item?");
  if (!confirmed) return;

  const itemElement = cartItems.children[index];
  itemElement.classList.add("fade-out");

  // Wait for animation to finish before removing
  setTimeout(() => {
    cart.splice(index, 1);
    updateCart();
  }, 300);
}
  
  function showCartModal() {
    cartModal.style.display = cartModal.style.display === "none" ? "block" : "none";
  }

  renderCards();
</script>
  <script>
  function showCartModal() {
  const overlay = document.getElementById("cartModalOverlay");
  overlay.style.display = overlay.style.display === "none" ? "flex" : "none";
}
  </script>
  <script>
  window.addEventListener("DOMContentLoaded", () => {
  const cards = document.querySelectorAll('.product-card');
  cards.forEach(card => {
    card.style.opacity = "1";
    card.style.transform = "translateY(0)";
  });
});
  </script>
  <div class="auth-wrapper" id="authModal">
  <div class="auth-card" id="authCard">
    <span class="close-modal-btn" onclick="handleAuthClose()">✖</span>
    <h3>Join Us</h3>
    <p style="color:#fff;">
      We respect your privacy. Your data stays safe.
      <br />
      <a href="your-privacy-policy-link.html" style="text-decoration: underline; color: #80ffdb;" target="_blank">Read more</a>
    </p>
    <form id="authForm">
      <input type="text" id="username" placeholder="Enter name" required />
      <input type="email" id="email" placeholder="Enter email" required />
      <button type="submit">Sign Up</button>
    </form>
  </div>
</div>
  <div id="userGreeting" style="display: none; position: fixed; top: 20px; right: 20px; background: #1d3557; color: #fff; padding: 10px 20px; border-radius: 8px; z-index: 10000;">
  <span id="greetingText"></span>
  <button onclick="logoutUser()" style="margin-left: 10px; background: #e63946; color: #fff; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Logout</button>
</div>
  <script>
  function toggleAuthFlip(show = true) {
    const wrapper = document.getElementById('authModal');
    const card = document.getElementById('authCard');
    if (show) {
      wrapper.style.display = "block";
      setTimeout(() => card.classList.add("show"), 50);
    } else {
      card.classList.remove("show");
      setTimeout(() => wrapper.style.display = "none", 500);
    }
  }

  function showGreeting(user) {
    const greeting = document.getElementById('userGreeting');
    const text = document.getElementById('greetingText');
    text.textContent = `Welcome, ${user.name}`;
    greeting.style.display = 'flex';
  }

  function logoutUser() {
    localStorage.removeItem("authUser");
    localStorage.setItem("authClosedCount", "0"); // Reset modal show count
    document.getElementById('userGreeting').style.display = "none";
    location.reload(); // Refresh to check state again
  }

  // Show modal or greeting on page load
  window.onload = function () {
    const user = JSON.parse(localStorage.getItem("authUser"));
    const closedCount = parseInt(localStorage.getItem("authClosedCount")) || 0;

    if (user) {
      showGreeting(user);
    } else if (closedCount < 5) {
      setTimeout(() => {
        toggleAuthFlip(true);
      }, 20000);
    }
  }

  // Handle signup
  document.getElementById("authForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const name = document.getElementById("username").value;
    const email = document.getElementById("email").value;
    const user = { name, email };
    localStorage.setItem("authUser", JSON.stringify(user));
    toggleAuthFlip(false);
    showGreeting(user);
    alert("Signup successful!");
  });

  // Close modal if user dismisses
  function handleAuthClose() {
    let closedCount = parseInt(localStorage.getItem("authClosedCount")) || 0;
    closedCount++;
    localStorage.setItem("authClosedCount", closedCount);
    toggleAuthFlip(false);
  }
</script>
</body>
</html>
